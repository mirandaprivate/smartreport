# utils

This dir provides two types of tools. One is to generate encoded binary stream.
The other is to create an instance of person mock.

## File `person_bin.go`

This file encodes a protobuf `Person` instance which created with the data
in `../content.json`. The output binary stream will be transferred by `genrule`
in `../../decode/BUILD` then be used in `../../decode/message_test.ts`.

## Files that actually generated by plugin

At present plugin in typescript doesn't exist so we should generate class
according to the `person.proto` file manually. This two files imitates the
possible output that is generated by plugin.

### File `person_descriptor.ts`

This file generates FileDescriptor which imported by `person_mock.ts`.

### File `person_mock.ts`

This file provides a Class `Person` acting as a protocol buffer message for
encode/decode. It also contains the FileDescriptor above and a registry which
offer enough information for encode/decode.

## person_build.ts

This file creates an instance of Person mock with the data in `../content.json`.
It's used in `person_bin.ts` for encoding and `../../decode/message_test.ts` for
comparing.

## person_bin.ts

This file encodes the `Person` instance in `person_build.ts` by `encode` in
`../../encode/message`. The output binary stream will be also transferred by
`genrule` in `../../encode/BUILD` then be used in
`../../encode/message_test.go`.
